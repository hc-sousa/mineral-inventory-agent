<button id="sidebar-toggle" class="text-white bg-gray-900 md:hidden">
    <i id="toggle-icon" class="fas fa-arrow-right ml-1 mr-1 text-sm"></i>
</button>

<aside id="sidebar" class="bg-gray-900 w-64 p-5 overflow-y-auto flex flex-col justify-between min-h-screen md:flex hidden">
    <div class="flex-grow">
        <div class="flex items-center justify-between mb-4">
            <!-- Home Icon -->
            <a href="/" class="flex-shrink-0 text-white hover:text-indigo-400 transition-colors duration-200">
                <i class="fas fa-home w-6 h-6"></i>
            </a>
            <span class="text-lg font-semibold text-white">Documentation</span>
            <!-- Logo and Title -->
            <div class="flex items-center space-x-2">
                <img src="{% url 'get_media' path='logo.png' %}" alt="Logo" class="w-6 h-6">
            </div>
        </div>
        <hr class="border-t-2 border-gray-700 my-4">
        <ul class="space-y-2">
            {% for section in sections %}
                <li>
                    <a href="{% url 'docs' section.section 'index' %}" class="flex items-center justify-between text-gray-300 hover:text-indigo-400 capitalize transition-colors duration-200 {% if current_section == section.section %}font-bold text-white{% endif %}">
                        <span class="flex-grow">{{ section.display_name }}</span>
                        {% if current_section == section.section %}
                            <i class="fas fa-circle w-4 h-4 ml-2 text-indigo-400"></i>
                        {% endif %}
                    </a>
                    <ul class="pl-4">
                        {% for subsection in section.subsections %}
                            {% if subsection.subsection != "index" %}
                                <li class="relative flex items-center group">
                                    <!-- Vertical line always visible, changes color on hover/active -->
                                    <span class="absolute left-0 top-0 bottom-0 w-1 border-l-2 transition-colors duration-200 
                                        {% if current_path == subsection.path %}
                                            border-indigo-400
                                        {% else %}
                                            border-gray-700
                                        {% endif %}
                                        group-hover:border-indigo-600
                                    "></span>
                                    <a href="{% url 'docs' section.section subsection.subsection %}" class="block pl-4 text-gray-400 hover:text-indigo-400 transition-colors duration-200 {% if current_path == subsection.path %}font-bold text-white{% endif %}">
                                        {{ subsection.display_name }}
                                    </a>
                                </li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div class="mt-auto">
        <hr class="border-t-2 border-gray-700 my-4">
        <footer class="text-gray-400 text-sm text-right">
            <p>Â© {{ PROJECT_NAME }}. All rights reserved.</p>
        </footer>
    </div>
</aside>